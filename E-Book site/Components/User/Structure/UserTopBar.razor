@rendermode InteractiveServer
<!--Modal Start-->

<Modal @ref="signoutModal" Title="Confirm SignOut" UseStaticBackdrop="true" CloseOnEscape="false" IsCentered="true">
    <BodyTemplate>
        Are you sure you want to SignOut?
    </BodyTemplate>
    <FooterTemplate>
        <Button Color="ButtonColor.Secondary" @onclick="HideLogoutModal">Cancel</Button>
        <Button Color="ButtonColor.Danger" @onclick="ConfirmLogout">Signout</Button>
    </FooterTemplate>
</Modal>
<!--Modal Ends-->

<!-- Topbar Start -->
<nav class="navbar navbar-expand-lg sticky-top border-3 shadow-sm p-0" style="background-color:#FAF9F6;">
    <!-- Brand -->
    <a href="userpanel" class="navbar-brand d-flex align-items-center px-4 py-2" style="font-family: 'Merriweather', serif;">
        <h1 class="m-0 fw-bold" style="color:#1B263B;">E-Book Shelf 📚</h1>
    </a>

    <!-- Toggler -->
    <button class="navbar-toggler me-3" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" style="border-color:#1B263B;">
        <span class="navbar-toggler-icon" style="filter: invert(30%) sepia(20%) saturate(400%) hue-rotate(190deg) brightness(80%) contrast(85%);"></span>
    </button>

    <!-- Nav Links -->
    <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav ms-auto px-4 py-2 py-lg-0" style="font-family: 'Open Sans', sans-serif; font-weight: 600; color: #555555;">
            <li class="nav-item">
                <a class="nav-link btn active hover-in" href="userpanel">Home</a>
            </li>
        </ul>

        <!-- CTA Button -->
        <div class="d-none d-lg-block pe-3 ">
            <button class="hover-in btn py-2 px-4 text-light" style="background-color:#FF6F3C; font-weight:700; font-family: 'Open Sans', sans-serif;" @onclick="ShowLogoutModal">
                Sign Out
            </button>
        </div>
    </div>
</nav>

<!-- Topbar End -->


@code {
    private Modal signoutModal = default!;

    private async Task ShowLogoutModal()
    {
        await signoutModal.ShowAsync();
    }

    private async Task HideLogoutModal()
    {
        await signoutModal.HideAsync();
    }

    private async Task ConfirmLogout()
    {
        await signoutModal.HideAsync();

        // TODO: Add your logout logic here (clear auth tokens, sign out, etc.)
        // optional UX delay

        NavigationManager.NavigateTo("/signout");
    }
}

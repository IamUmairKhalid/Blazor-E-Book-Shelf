@page "/userpanel"
@layout UserLayout


<PageTitle>User Panel</PageTitle>

<div class="container mt-5">
    <div class="row mb-4">
        <div class="col text-center">
            <h2 class="fw-bold">User Dashboard</h2>
        </div>
    </div>

    <div class="row g-4">
        <!-- Last Seen Book -->
        <div class="col-md-4">
            <div class="card shadow-sm border-0">
                <div class="card-body text-center">
                    <i class="bi bi-book-half fs-1 text-primary"></i>
                    <h5 class="card-title mt-3">Continue Reading</h5>
                    <p class="card-text">Resume from page 12 of "VP Lab 11"</p>
                    <a href="/readbook" class="btn btn-primary">Resume</a>
                </div>
            </div>
        </div>

        <!-- Favorite Books -->
        <div class="col-md-4">
            <div class="card shadow-sm border-0">
                <div class="card-body text-center">
                    <i class="bi bi-heart-fill fs-1 text-danger"></i>
                    <h5 class="card-title mt-3">Favorites</h5>
                    <p class="card-text">You have 5 favorite books</p>
                    <a href="/favorites" class="btn btn-outline-danger">View Favorites</a>
                </div>
            </div>
        </div>

        <!-- Reading History -->
        <div class="col-md-4">
            <div class="card shadow-sm border-0">
                <div class="card-body text-center">
                    <i class="bi bi-clock-history fs-1 text-secondary"></i>
                    <h5 class="card-title mt-3">Reading History</h5>
                    <p class="card-text">10 books read in the last 7 days</p>
                    <a href="/history" class="btn btn-outline-secondary">View History</a>
                </div>
            </div>
        </div>

        <!-- Saved Bookmarks -->
        <div class="col-md-4">
            <div class="card shadow-sm border-0">
                <div class="card-body text-center">
                    <i class="bi bi-bookmark-star fs-1 text-warning"></i>
                    <h5 class="card-title mt-3">Bookmarks</h5>
                    <p class="card-text">3 bookmarks saved in "VP Lab 11"</p>
                    <a href="/bookmarks" class="btn btn-outline-warning">View Bookmarks</a>
                </div>
            </div>
        </div>

        <!-- Profile Settings -->
        <div class="col-md-4">
            <div class="card shadow-sm border-0">
                <div class="card-body text-center">
                    <i class="bi bi-person-circle fs-1 text-info"></i>
                    <h5 class="card-title mt-3">Profile</h5>
                    <p class="card-text">Update your personal information</p>
                    <a href="/profile" class="btn btn-outline-info">Edit Profile</a>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    // Here you can bind real data from backend or service
}



<div class="tab-content p-4 bg-white shadow-sm border rounded-4">
    <!-- Profile Tab -->
    <div class="tab-pane fade show active" id="profile">
        <h3>Welcome, @UserName!</h3>
        <p><strong>Email:</strong> umair@example.com</p>
        <p><strong>Membership:</strong> Premium Plan</p>
    </div>

    <!-- My Books Tab -->
    <div class="tab-pane fade" id="mybooks">
        <h4>Your Library</h4>
        <div class="row">

            @foreach (var book in UserBooks)
            {
                <div class="col-md-4 mb-4">
                    <div class="card h-100 shadow-sm">
                        <img src="@book.CoverUrl" class="card-img-top" alt="Book Cover">
                        <div class="card-body">
                            <h5 class="card-title">@book.Title</h5>
                            <p class="card-text text-muted">@book.Author</p>
                            <a href="readbook" class="btn btn-primary btn-sm">Read Now</a>
                        </div>
                    </div>
                </div>
            }

        </div>
    </div>

    <!-- Bookmarks Tab -->
    <div class="tab-pane fade" id="bookmarks">
        <h4>Bookmarked Pages</h4>
        <ul>
            <li>"The Alchemist" – Page 15</li>
            <li>"Clean Code" – Page 78</li>
        </ul>
    </div>

    <!-- Downloads Tab -->
    <div class="tab-pane fade" id="downloads">
        <h4>Downloaded Books</h4>
        <p>You have downloaded 2 books for offline reading.</p>
        <ul>
            <li>"Atomic Habits"</li>
            <li>"The Alchemist"</li>
        </ul>
    </div>

    <!-- History Tab -->
    <div class="tab-pane fade" id="history">
        <h4>Reading History</h4>
        <ul>
            <li>Read "Atomic Habits" - May 25</li>
            <li>Read "Clean Code" - May 20</li>
        </ul>
    </div>
</div>

@code {
    string UserName = "Umair Khalid";

    class Book
    {
        public int Id { get; set; }
        public string Title { get; set; }
        public string Author { get; set; }
        public string CoverUrl { get; set; }
    }

    List<Book> UserBooks = new()
    {
        new() { Id = 1, Title = "The Alchemist", Author = "Paulo Coelho", CoverUrl = "images/alchemist.jpg" },
        new() { Id = 2, Title = "Clean Code", Author = "Robert C. Martin", CoverUrl = "images/cleancode.jpg" },
        new() { Id = 3, Title = "Atomic Habits", Author = "James Clear", CoverUrl = "images/atomichabits.jpg" }
    };
}